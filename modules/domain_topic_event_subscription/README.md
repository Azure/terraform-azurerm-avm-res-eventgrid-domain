<!-- BEGIN_TF_DOCS -->
<!-- Code generated by terraform-docs. DO NOT EDIT. -->
# Domain Topic Event Subscription Submodule

This submodule creates an EventGrid domain topic event subscription.

<!-- markdownlint-disable MD033 -->
## Requirements

The following requirements are needed by this module:

- <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) (>= 1.9, < 2.0)

- <a name="requirement_azapi"></a> [azapi](#requirement\_azapi) (~> 2.4)

## Resources

The following resources are used by this module:

- [azapi_resource.this](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)

<!-- markdownlint-disable MD013 -->
## Required Inputs

The following input variables are required:

### <a name="input_name"></a> [name](#input\_name)

Description: The name of the event subscription.

Type: `string`

### <a name="input_parent_id"></a> [parent\_id](#input\_parent\_id)

Description: The resource ID of the parent domain topic.

Type: `string`

## Optional Inputs

The following input variables are optional (have default values):

### <a name="input_dead_letter_destination"></a> [dead\_letter\_destination](#input\_dead\_letter\_destination)

Description: The dead letter destination for the event subscription.

Example:
```terraform
dead_letter_destination = {
  endpointType = "StorageBlob"
  properties = {
    resourceId       = "/subscriptions/.../storageAccounts/..."
    blobContainerName = "deadletter"
  }
}
```

Type: `any`

Default: `null`

### <a name="input_dead_letter_with_resource_identity"></a> [dead\_letter\_with\_resource\_identity](#input\_dead\_letter\_with\_resource\_identity)

Description: Information about the dead letter destination identity.

Example:
```terraform
dead_letter_with_resource_identity = {
  identity = {
    type               = "UserAssigned"
    userAssignedIdentity = "/subscriptions/.../userAssignedIdentities/..."
  }
  deadLetterDestination = {
    endpointType = "StorageBlob"
    properties = {
      resourceId       = "/subscriptions/.../storageAccounts/..."
      blobContainerName = "deadletter"
    }
  }
}
```

Type: `any`

Default: `null`

### <a name="input_delivery_with_resource_identity"></a> [delivery\_with\_resource\_identity](#input\_delivery\_with\_resource\_identity)

Description: Information about the destination identity.

Example:
```terraform
delivery_with_resource_identity = {
  identity = {
    type               = "UserAssigned"
    userAssignedIdentity = "/subscriptions/.../userAssignedIdentities/..."
  }
  destination = {
    endpointType = "EventHub"
    properties = {
      resourceId = "/subscriptions/.../eventhubs/..."
    }
  }
}
```

Type: `any`

Default: `null`

### <a name="input_destination"></a> [destination](#input\_destination)

Description: The destination for the event subscription. This is a dynamic object that can represent different destination types.

Example for Event Hub:
```terraform
destination = {
  endpointType = "EventHub"
  properties = {
    resourceId = "/subscriptions/.../eventhubs/..."
  }
}
```

Example for Storage Queue:
```terraform
destination = {
  endpointType = "StorageQueue"
  properties = {
    resourceId = "/subscriptions/.../storageAccounts/.../queueServices/default"
    queueName  = "myqueue"
  }
}
```

Type: `any`

Default: `null`

### <a name="input_event_delivery_schema"></a> [event\_delivery\_schema](#input\_event\_delivery\_schema)

Description: The event delivery schema. Possible values: `EventGridSchema`, `CloudEventSchemaV1_0`, `CustomInputSchema`.

Type: `string`

Default: `null`

### <a name="input_expiration_time_utc"></a> [expiration\_time\_utc](#input\_expiration\_time\_utc)

Description: The expiration time for the event subscription in UTC format.

Type: `string`

Default: `null`

### <a name="input_filter"></a> [filter](#input\_filter)

Description: Filter criteria for the event subscription.

- `advanced_filters` - (Optional) List of advanced filter objects.
- `enable_advanced_filtering_on_arrays` - (Optional) Enable advanced filtering on arrays.
- `included_event_types` - (Optional) List of event types to include.
- `is_subject_case_sensitive` - (Optional) Whether subject matching is case sensitive. Defaults to false.
- `subject_begins_with` - (Optional) Subject must begin with this string.
- `subject_ends_with` - (Optional) Subject must end with this string.

Type:

```hcl
object({
    advanced_filters                    = optional(list(any))
    enable_advanced_filtering_on_arrays = optional(bool)
    included_event_types                = optional(list(string))
    is_subject_case_sensitive           = optional(bool, false)
    subject_begins_with                 = optional(string)
    subject_ends_with                   = optional(string)
  })
```

Default: `null`

### <a name="input_labels"></a> [labels](#input\_labels)

Description: List of labels for the event subscription.

Type: `list(string)`

Default: `null`

### <a name="input_properties"></a> [properties](#input\_properties)

Description: Additional properties to pass directly to the event subscription. These will be merged with other configured properties.

Type: `any`

Default: `{}`

### <a name="input_retry_policy"></a> [retry\_policy](#input\_retry\_policy)

Description: The retry policy for the event subscription.

- `event_time_to_live_in_minutes` - (Optional) Time to live in minutes for events. Defaults to 1440 (24 hours).
- `max_delivery_attempts` - (Optional) Maximum number of delivery attempts. Defaults to 30.

Type:

```hcl
object({
    event_time_to_live_in_minutes = optional(number, 1440)
    max_delivery_attempts         = optional(number, 30)
  })
```

Default: `null`

## Outputs

The following outputs are exported:

### <a name="output_name"></a> [name](#output\_name)

Description: The name of the domain topic event subscription.

### <a name="output_output"></a> [output](#output\_output)

Description: The full output of the domain topic event subscription resource.

### <a name="output_resource_id"></a> [resource\_id](#output\_resource\_id)

Description: The resource ID of the domain topic event subscription.

## Modules

No modules.

<!-- END_TF_DOCS -->